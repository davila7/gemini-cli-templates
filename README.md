# Gemini CLI Analytics Dashboard

This project provides an advanced analytics dashboard for the Gemini CLI. It allows you to monitor real-time metrics, track token usage, and visualize OpenTelemetry data locally.

<img width="946" height="639" alt="Screenshot 2025-08-02 at 12 17 27" src="https://github.com/user-attachments/assets/3d62830c-8ba0-46e5-ba75-b2f3e16a1b05" />


## Features

*   **Real-time Metrics:** Track sessions, tool usage, token consumption, and API calls.
*   **Interactive Charts:** Visualize token usage, session activity, and API response times.
*   **Data Filtering:** Analyze data by date range (last 7, 30, 90 days, or custom).
*   **Log Viewer:** Inspect detailed, paginated logs for metrics and traces.
*   **Data Export:** Download analytics data as a JSON file.

## How It Works

This dashboard leverages the local OpenTelemetry data generated by the Gemini CLI.

<img width="954" height="460" alt="GxXDUbBXQAAX9BO" src="https://github.com/user-attachments/assets/ae8e89e8-980c-4778-8e63-3dd65953f999" />

1.  **Telemetry Enabled:** When you run `gemini` with the `--telemetry -- --target=local` flag, it activates OpenTelemetry instrumentation.
2.  **Local Collector:** The CLI sends telemetry data (metrics and traces) to a local OpenTelemetry Collector running in the background.
3.  **Log Storage:** The collector writes this data to a log file at `~/.gemini/tmp/<session-id>/otel/collector.log`.
4.  **Express Backend:** The dashboard's Node.js/Express server reads and parses this log file to extract structured metrics.
5.  **Jaeger Integration:** For distributed tracing, the dashboard proxies requests to a local Jaeger instance (run via Docker), allowing you to visualize request flows.
6.  **Frontend UI:** A vanilla JavaScript frontend fetches the processed data from the Express server and renders it using interactive charts and tables.

## Technology Stack

*   **Backend:** Node.js, Express
*   **Frontend:** HTML, CSS, Vanilla JavaScript
*   **Charting:** Chart.js
*   **Telemetry:** OpenTelemetry, Jaeger

## Quick Start

### Prerequisites

*   [Gemini CLI](https://github.com/google-gemini/gemini-cli) installed
*   Node.js 18+
*   Docker (for the Jaeger telemetry backend)

### 1. Install Gemini CLI

```bash
npm install -g @google/gemini-cli
```

### 2. Run Gemini with Telemetry

For the dashboard to receive data, you need to run your `gemini` commands with the `--telemetry -- --target=local` flag. This sends telemetry data to a local collector.

```bash
gemini --telemetry -- --target=local
```

### 3. Launch the Analytics Dashboard

You can launch the dashboard using `npx` (recommended) or by cloning the repository locally.

**Option A: Using npx**

This command runs the latest version of the dashboard without cloning the repository.

```bash
npx gemini-cli-templates@latest --analytics
```

**Option B: Clone and run locally**

```bash
git clone https://github.com/davila7/gemini-cli-templates.git
cd gemini-cli-templates
npm install
npm start
```

### 4. View Analytics

Once the dashboard is running, open [http://localhost:3337](http://localhost:3337) in your browser to see the analytics interface.

## Contributing

Contributions are welcome! Please follow these steps:

1.  Fork the repository.
2.  Create a new feature branch (`git checkout -b feature/your-feature`).
3.  Commit your changes (`git commit -m 'Add your feature'`).
4.  Push to the branch (`git push origin feature/your-feature`).
5.  Open a Pull Request.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.
